{
  "chunks": [
    "slurm 사용 및 운용\nArm64 Server cluster\nRev 1.1, 20211026",
    "작성자\n한태현\n작성 일자\n2021-9-7\n문서의 이력\n버 전\n날 짜\n작 성\n변경사항\n1.0\n2021-10-25\n한태현\n최초 작성\nCluster 상세",
    "작성자\n한태현\n작성 일자\n2021-9-7\nLocal Cluster\n1.\nCluster 상세\n1.1.\n관리노드",
    "urlip : supreme-k.org  59.14.34.120\n1.2.\nCluster 구조",
    "hostname : thunder01\n항목\n사양\nCPU\nModel : CN8890\nCores : 48\nThreads : 48\nFreq : 1.9GHz\n2EA\nMemory\n64GB",
    "hostname : thunder02\n항목\n사양\nCPU\nModel : CN8890\nCores : 48\nThreads : 48\nFreq : 1.9GHz\n2EA\nMemory\n32GB\n315",
    "hostname : snow01\n항목\n사양\nCPU\nAmpere Altra Processor (80 cores)\nMemory\n256GB",
    "hostname : snow02\n항목\n사양\nCPU\nAmpere Altra Processor (80 cores)\nMemory\n256GB",
    "실행할스크립트, 라이브러리, 어플리케이션등은모든노드에\n연결된 공유 directory 에 위치해야 한다. (clusterfs 하위)\n415",
    "sinfo : 노드 및 파티션 상태 확인\netrimastercl: sinfo\nPARTITION AVAIL TIMELIMIT NODES STATE NODELIST\nthunder up infinite 2 alloc thunder[01-02]\nsnow up infinite 2 alloc snow[01-02]\nall up infinite 4 alloc snow[01-02],thunder[01-02]",
    "squeue : 클러스터에 실행중인 job 확인\netrimastercl: squeue\nJOBID PARTITION NAME USER ST TIME NODES\nNODELIST(REASON)\n130 snow submit_s etri R 28:18 2 snow[01-02]\n133 thunder submit_t etri R 0:07 2 thunder[01-02]",
    "사전에 benchmark 를 위한 script 를 작성함.\netrimastercl:clusterfsetrihplbinLinux_Arm .001_runhpl.sh snow\nsnow\nPARTITION AVAIL TIMELIMIT NODES STATE NODELIST\nthunder up infinite 2 idle thunder[01-02]\nsnow up infinite 2 idle snow[01-02]\n515",
    "작성자\n한태현\n작성 일자\n2021-9-7\nall up infinite 4 idle snow[01-02],thunder[01-02]\nSubmitted batch job 135\nJOBID PARTITION NAME USER ST TIME NODES\nNODELIST(REASON)\n135 snow submit_s etri PD 0:00 2 (None)\netrimastercl:clusterfsetrihplbinLinux_Arm .001_runhpl.sh\nthunder\nthunder\nPARTITION AVAIL TIMELIMIT NODES STATE NODELIST\nthunder up infinite 2 idle thunder[01-02]\nsnow up infinite 2 alloc snow[01-02]\nall up infinite 2 alloc snow[01-02]\nall up infinite 2 idle thunder[01-02]\nSubmitted batch job 136\nJOBID PARTITION NAME USER ST TIME NODES\nNODELIST(REASON)\n135 snow submit_s etri R 0:04 2 snow[01-02]\n136 thunder submit_t etri R 0:00 2 thunder[01-02]",
    "결과는 outoutput.[jobnumber].out 에 저장됨\netrimastercl:clusterfsetrihplbinLinux_Arm cat outoutput.132.out\nMaster node: thunder01",
    "HPLinpack 2.3 -- High-Performance Linpack benchmark -- December 2, 2018\nWritten by A. Petitet and R. Clint Whaley, Innovative Computing Laboratory, UTK\nModified by Piotr Luszczek, Innovative Computing Laboratory, UTK\nModified by Julien Langou, University of Colorado Denver",
    "An explanation of the inputoutput parameters follows:\nTV : Wall time  encoded variant.\nN : The order of the coefficient matrix A.\nNB : The partitioning blocking factor.\nP : The number of process rows.\nQ : The number of process columns.\n615",
    "작성자\n한태현\n작성 일자\n2021-9-7\nTime : Time in seconds to solve the linear system.\nGflops : Rate of execution for solving the linear system.\nThe following parameter values will be used:\nN : 80256\nNB : 192\nPMAP : Row-major process mapping\nP : 12\nQ : 16\nPFACT : Right\nNBMIN : 4\nNDIV : 2\nRFACT : Crout\nBCAST : 1ringM\nDEPTH : 1\nSWAP : Mix (threshold  64)\nL1 : transposed form\nU : transposed form\nEQUIL : yes\nALIGN : 8 double precision words\n--------------------------------------------------------------------------------\n- The matrix A is randomly generated for each test.\n- The following scaled residual check will be computed:\nAx-b_oo  ( eps  (  x _oo   A _oo   b _oo )  N )\n- The relative machine precision (eps) is taken to be 1.110223e-16\n- Computational tests pass if scaled residuals are less than 16.0",
    "TV N NB P Q Time Gflops\n--------------------------------------------------------------------------------\nWR11C2R4 80256 192 12 16 1512.36 2.2788e02\nHPL_pdgesv() start time Tue Oct 26 14:53:31 2021\nHPL_pdgesv() end time Tue Oct 26 15:18:43 2021\n--------------------------------------------------------------------------------\nAx-b_oo(eps(A_oox_oob_oo)N) 1.78445132e-03 ...... PASSED",
    "Finished 1 tests with the following results:\n1 tests completed and passed residual checks,\n0 tests completed and failed residual checks,\n0 tests skipped because of illegal input values.\n--------------------------------------------------------------------------------\n715",
    "간단한 slurm script 구조\netrimastercl:clusterfsetrihplbinLinux_Arm cat submit_snow.sh\n!binbash\n Print the node that starts the process\nSBATCH --nodes2\nSBATCH --ntasks-per-node80\nSBATCH --partitionsnow\nSBATCH --outputoutoutput.J.out  STDOUT\nmpirun .xhpl",
    "snow partition 의node를2개사용하여각노드에80개의job 을\n분배해 작업을 수행하겠다.",
    "snow와thunder 가서로같은openmpi 를사용하지않아각각실행전\npath 설정이 필요합니다.",
    "작성자\n한태현\n작성 일자\n2021-9-7\netrithunder01:clusterfsetrihplbinLinux_Arm .001_runhpl.sh\nsnow\nsnow\nPARTITION AVAIL TIMELIMIT NODES STATE NODELIST\nthunder up infinite 2 idle thunder[01-02]\nsnow up infinite 2 idle snow[01-02]\nall up infinite 4 idle snow[01-02],thunder[01-02]\nSubmitted batch job 144\nJOBID PARTITION NAME USER ST TIME NODES\nNODELIST(REASON)\n144 snow submit_s etri R 0:00 2 snow[01-02]",
    "HPLinpack 2.3 -- High-Performance Linpack benchmark -- December 2, 2018\nWritten by A. Petitet and R. Clint Whaley, Innovative Computing Laboratory, UTK\nModified by Piotr Luszczek, Innovative Computing Laboratory, UTK\nModified by Julien Langou, University of Colorado Denver",
    "An explanation of the inputoutput parameters follows:\nTV : Wall time  encoded variant.\nN : The order of the coefficient matrix A.\nNB : The partitioning blocking factor.\nP : The number of process rows.\nQ : The number of process columns.\nTime : Time in seconds to solve the linear system.\nGflops : Rate of execution for solving the linear system.\nThe following parameter values will be used:\nN : 10000\nNB : 192\nPMAP : Row-major process mapping\nP : 10 8 4\n915",
    "작성자\n한태현\n작성 일자\n2021-9-7\nQ : 16 20 40\nPFACT : Right\nNBMIN : 4\nNDIV : 2\nRFACT : Crout\nBCAST : 1ringM\nDEPTH : 1\nSWAP : Mix (threshold  64)\nL1 : transposed form\nU : transposed form\nEQUIL : yes\nALIGN : 8 double precision words\n--------------------------------------------------------------------------------\n- The matrix A is randomly generated for each test.\n- The following scaled residual check will be computed:\nAx-b_oo  ( eps  (  x _oo   A _oo   b _oo )  N )\n- The relative machine precision (eps) is taken to be 1.110223e-16\n- Computational tests pass if scaled residuals are less than 16.0",
    "TV N NB P Q Time Gflops\n--------------------------------------------------------------------------------\nWR11C2R4 10000 192 10 16 13.93 4.7865e01\nHPL_pdgesv() start time Mon Oct 25 17:04:50 2021\nHPL_pdgesv() end time Mon Oct 25 17:05:04 2021\n--------------------------------------------------------------------------------\nAx-b_oo(eps(A_oox_oob_oo)N) 4.57441358e-03 ...... PASSED",
    "TV N NB P Q Time Gflops\n--------------------------------------------------------------------------------\nWR11C2R4 10000 192 8 20 11.63 5.7349e01\nHPL_pdgesv() start time Mon Oct 25 17:05:04 2021\nHPL_pdgesv() end time Mon Oct 25 17:05:15 2021\n--------------------------------------------------------------------------------\nAx-b_oo(eps(A_oox_oob_oo)N) 4.21176488e-03 ...... PASSED",
    "작성자\n한태현\n작성 일자\n2021-9-7\n--------------------------------------------------------------------------------\nWR11C2R4 10000 192 4 40 7.22 9.2376e01\nHPL_pdgesv() start time Mon Oct 25 17:05:15 2021\nHPL_pdgesv() end time Mon Oct 25 17:05:23 2021\n--------------------------------------------------------------------------------\nAx-b_oo(eps(A_oox_oob_oo)N) 6.85416234e-03 ...... PASSED",
    "Finished 3 tests with the following results:\n3 tests completed and passed residual checks,\n0 tests completed and failed residual checks,\n0 tests skipped because of illegal input values.\n--------------------------------------------------------------------------------\nEnd of Tests.",
    "hpcg 의 경우 output 이 따로 생성됩니다.\netrithunder01:clusterfsetrihpcg .001_runhpcg.sh snow\nsnow\nPARTITION AVAIL TIMELIMIT NODES STATE NODELIST\nthunder up infinite 2 idle thunder[01-02]\nsnow up infinite 2 idle snow[01-02]\nall up infinite 4 idle snow[01-02],thunder[01-02]\nSubmitted batch job 145\nJOBID PARTITION NAME USER ST TIME NODES\nNODELIST(REASON)\n145 snow submit_s etri R 0:00 2 snow[01-02]",
    "실행 후 결과\netrithunder01:clusterfsetrihpcg cat\nsnow01-160ranks-1threads_HPCG-Benchmark_3.0_2021-10-26_15-44-06.tx\nt\n1115",
    "작성자\n한태현\n작성 일자\n2021-9-7\nsnow01-160ranks-1threads\nversionHPCG-Benchmark_3.0\nRelease dateNovember 11, 2015\nMachine Summary\nMachine Summary::Distributed Processes160\nMachine Summary::Threads per processes1\nGlobal Problem Dimensions\nGlobal Problem Dimensions::Global nx384\nGlobal Problem Dimensions::Global ny768\nGlobal Problem Dimensions::Global nz480\nProcessor Dimensions\nProcessor Dimensions::npx4\nProcessor Dimensions::npy8\nProcessor Dimensions::npz5\nLocal Domain Dimensions\nLocal Domain Dimensions::nx96\nLocal Domain Dimensions::ny96\nLocal Domain Dimensions::Lower ipz0\nLocal Domain Dimensions::Upper ipz4\nLocal Domain Dimensions::nz96\n Problem Summary \nSetup Information\nSetup Information::Setup Time2.15955\nLinear System Information\nLinear System Information::Number of Equations141557760\nLinear System Information::Number of Nonzero Terms3806817400\nMultigrid Information\nMultigrid Information::Number of coarse grid levels3\nMultigrid Information::Coarse Grids\nMultigrid Information::Coarse Grids::Grid Level1\nMultigrid Information::Coarse Grids::Number of Equations17694720\nMultigrid Information::Coarse Grids::Number of Nonzero Terms473951800\nMultigrid Information::Coarse Grids::Number of Presmoother Steps1\nMultigrid Information::Coarse Grids::Number of Postsmoother Steps1\nMultigrid Information::Coarse Grids::Grid Level2\nMultigrid Information::Coarse Grids::Number of Equations2211840\n1215",
    "작성자\n한태현\n작성 일자\n2021-9-7\nMultigrid Information::Coarse Grids::Number of Nonzero Terms58770712\nMultigrid Information::Coarse Grids::Number of Presmoother Steps1\nMultigrid Information::Coarse Grids::Number of Postsmoother Steps1\nMultigrid Information::Coarse Grids::Grid Level3\nMultigrid Information::Coarse Grids::Number of Equations276480\nMultigrid Information::Coarse Grids::Number of Nonzero Terms7228936\nMultigrid Information::Coarse Grids::Number of Presmoother Steps1\nMultigrid Information::Coarse Grids::Number of Postsmoother Steps1\n Memory Use Summary \nMemory Use Information\nMemory Use Information::Total memory used for data (Gbytes)101.265\nMemory Use Information::Memory used for OptimizeProblem data\n(Gbytes)0\nMemory Use Information::Bytes per equation (Total memory  Number of\nEquations)715.364\nMemory Use Information::Memory used for linear system and CG\n(Gbytes)89.1113\nMemory Use Information::Coarse Grids\nMemory Use Information::Coarse Grids::Grid Level1\nMemory Use Information::Coarse Grids::Memory used10.6527\nMemory Use Information::Coarse Grids::Grid Level2\nMemory Use Information::Coarse Grids::Memory used1.33395\nMemory Use Information::Coarse Grids::Grid Level3\nMemory Use Information::Coarse Grids::Memory used0.167371\n VV Testing Summary \nSpectral Convergence Tests\nSpectral Convergence Tests::ResultPASSED\nSpectral Convergence Tests::Unpreconditioned\nSpectral Convergence Tests::Unpreconditioned::Maximum iteration count11\nSpectral Convergence Tests::Unpreconditioned::Expected iteration count12\nSpectral Convergence Tests::Preconditioned\nSpectral Convergence Tests::Preconditioned::Maximum iteration count2\nSpectral Convergence Tests::Preconditioned::Expected iteration count2\nDeparture from Symmetry x'Ay-y'Ax(2xAy)epsilon\nDeparture from Symmetry\nx'Ay-y'Ax(2xAy)epsilon::ResultPASSED\nDeparture from Symmetry x'Ay-y'Ax(2xAy)epsilon::Departure for\n1315",
    "작성자\n한태현\n작성 일자\n2021-9-7\nSpMV2.24833e-10\nDeparture from Symmetry x'Ay-y'Ax(2xAy)epsilon::Departure for\nMG0.000115979\n Iterations Summary \nIteration Count Information\nIteration Count Information::ResultPASSED\nIteration Count Information::Reference CG iterations per set50\nIteration Count Information::Optimized CG iterations per set51\nIteration Count Information::Total number of reference iterations50\nIteration Count Information::Total number of optimized iterations51\n Reproducibility Summary \nReproducibility Information\nReproducibility Information::ResultPASSED\nReproducibility Information::Scaled residual mean0.00448442\nReproducibility Information::Scaled residual variance0\n Performance Summary (times in sec) \nBenchmark Time Summary\nBenchmark Time Summary::Optimization phase2.95421\nBenchmark Time Summary::DDOT4.85044\nBenchmark Time Summary::WAXPBY1.46388\nBenchmark Time Summary::SpMV7.27768\nBenchmark Time Summary::MG46.5758\nBenchmark Time Summary::Total60.3142\nFloating Point Operations Summary\nFloating Point Operations Summary::Raw DDOT4.35998e10\nFloating Point Operations Summary::Raw WAXPBY4.35998e10\nFloating Point Operations Summary::Raw SpMV3.95909e11\nFloating Point Operations Summary::Raw MG2.21464e12\nFloating Point Operations Summary::Total2.69775e12\nFloating Point Operations Summary::Total with convergence\noverhead2.64485e12\nGBs Summary\nGBs Summary::Raw Read BW275.516\nGBs Summary::Raw Write BW63.6723\nGBs Summary::Raw Total BW339.188\nGBs Summary::Total with convergence and optimization phase\noverhead329.742\n1415",
    "작성자\n한태현\n작성 일자\n2021-9-7\nGFLOPs Summary\nGFLOPs Summary::Raw DDOT8.98883\nGFLOPs Summary::Raw WAXPBY29.7837\nGFLOPs Summary::Raw SpMV54.4005\nGFLOPs Summary::Raw MG47.5492\nGFLOPs Summary::Raw Total44.7282\nGFLOPs Summary::Total with convergence overhead43.8512\nGFLOPs Summary::Total with convergence and optimization phase\noverhead43.4826\nUser Optimization Overheads\nUser Optimization Overheads::Optimization phase time (sec)2.95421\nUser Optimization Overheads::Optimization phase time vs reference\nSpMVMG time2.86486\nDDOT Timing Variations\nDDOT Timing Variations::Min DDOT MPI_Allreduce time1.08253\nDDOT Timing Variations::Max DDOT MPI_Allreduce time6.33591\nDDOT Timing Variations::Avg DDOT MPI_Allreduce time3.50389\nFinal Summary\nFinal Summary::HPCG result is VALID with a GFLOPs rating of43.4826\nFinal Summary::HPCG 2.4 rating for historical reasons is43.6375\nFinal Summary::Results are valid but execution time (sec) is60.3142\nFinal Summary::You have selected the QuickPath optionResults are official\nfor legacy installed systems with confirmation from the HPCG Benchmark\nleaders.\nFinal Summary::After confirmation please upload results from the YAML file\ncontents tohttp:hpcg-benchmark.org\n1515"
  ],
  "metadata": {
    "original_filename": "[슈퍼컴퓨터] slurm 사용 관련 문서.txt",
    "text_hash": "9767d44018ac",
    "text_length": 15403,
    "created_at": "",
    "tags": [],
    "origin": "사내 문서"
  },
  "split_info": {
    "chunk_size": null,
    "stride": null,
    "min_length": 50,
    "total_chunks": 36
  }
}